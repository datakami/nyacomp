a replacement for `curl <file1> <file2>` that buffers in memory if pipe is full
